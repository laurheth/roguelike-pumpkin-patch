<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roguelike Pumpkin Patch Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/railscasts.min.css">
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    <header>
        <div class="wrapper">
            <h1>Roguelike Pumpkin Patch Documentation</h1>
            <p>Roguelike Pumpkin Patch is a library for building roguelikes that run in your browser, in TypeScript or JavaScript. This documentation is meant to show you how to actually use the library. Check out the <a href="https://github.com/laurheth/roguelike-pumpkin-patch">readme here</a> for setup instructions!</p>
            <nav>
                <ul><a href="#display">Display</a></ul>
                <ul><a href="#random">Random numbers</a></ul>
                <ul><a href="#fov">Field of View</a></ul>
                <ul><a href="#events">The Event System</a></ul>
                <ul><a href="#pathfinder">Pathfinding</a></ul>
            </nav>
        </div>
    </header>
    <main>
        <div class="wrapper">
            <section class="display" id="display">
                <h2>The Display</h2>

                <p>
                    The display is where most of the magic happens. Contains a multitude of tiles, and is based on HTML and CSS. Suppose you have the following as your CSS:
                </p>

                <pre>
                    <code>
/* You can style the tiles with pumpkin-tile! You can also target pumpkin-display and pumpkin-container */
.pumpkin-tile {
    font-family: monospace;
}

/* The display will fit the container you put it in; make sure it has a size! */
.pumpkin-container {
    height: 400px;
    border: 2px solid gray;
}

/* Just some styles that you think look cool */
.brickWall {
    background: darkred;
    color: gray;
}

.player {
    color: white;
}

.coolFloor {
    color: green;
}

.superAwesome {
    background: purple;
    color: white;
    font-family: sans-serif;
}

                    </code>
                </pre>

                <p>
                    Usage of the display might look like:
                </p>
                <pre>
                    <code>
// First, select the target element you want the display to be within
const target = document.getElementById("displayExample");

// Paramaters object
const params = {
    // Required! The display must go somewhere
    target: target,
    // Width of the display in tiles
    width: 40,
    // Height of the display in tiles
    height: 30,
};

// Start the display!
const display = new Display(params);

// Set the tile size so that it fits its container
display.tileSize = display.calculateTileSize();

// Lets draw some stuff
for (let x=0; x < params.width; x++) {
    for (let y=0; y < params.height; y++) {
        // Draw some walls
        if (x===0 || y===0 || x===params.width-1 || y===params.height-1) {
            display.setTile(x,y,{
                // Content can be a string, or ANY html element! (including images!)
                content: '#',
                className: "brickWall"
            });

        // Add our player!
        } else if (x===3 && y===5) {
            display.setTile(x,y,{
                content: '@',
                // You can use as many classes as you would like!
                classList: ["player"]
            });
        // Some floor everywhere else
        } else {
            display.setTile(x,y,{
                content: '.',
                className: "coolFloor"
            });
        }
    }
}

// Hmm actually I want to change some of the tiles a bit. updateTile changes the
// parameters that you specify; setTile replaces everything.

for (let i=5; i < 10; i++) {
    display.updateTile(i,i,{className:"superAwesome"});
}

                    </code>
                </pre>

                <p>
                    The results will be:
                </p>
                <div id="displayExample"></div>

                <p>
                    Other methods you might enjoy are:
                </p>
                <pre>
                    <code>
display.centerDisplay(x,y);
                    </code>
                </pre>
                <p>
                    For when you want to center the display on a particular location (for instance, the player's position), or:
                </p>
                </p>
                <pre>
                    <code>
display.dimensions = display.calculateDimensions();
                    </code>
                </pre>
                <p>
                    If you want to automatically determine how many tiles you need to fill the available space, given whatever size they currently are. You can also use:
                </p>
                <pre>
                    <code>
display.getTile(x,y);
                    </code>
                </pre>
                <p>
                    If you you want to do something with a particular tile.
                </p>
            </section>
            <section class="random" id="random">
                <h2>Random Numbers, and related utilities</h2>
                <p>Generating random numbers is fun for the whole family. Here's how you do it.</p>
                <pre>
                    <code>
// You can define a seed if you would like; if not, the current time is used.
const optionalSeed = 546456732;

// Start the random number generator
const random = new Random(optionalSeed);

// If you want a random number from 0 <= x < 1:
const x = random.getRandom();

// If you would like a random number in the range of lower <= y <= upper you can use getNumber.
const lower = 0;
const upper = 10;
const y = random.getNumber(lower,upper);

// If the given bounds are integers, it will generate integers.
// If not, it will generate decimals.
// If you want to specify explicitly, use the integer boolean parameter.
const noThanksNotInteger = random.getNumber(lower,upper,false);

// If you want a random element from an array, use getRandomElement.
const coolArray = [1, 2, 3, 4, 5, 6, 7];
const randomElement = random.getRandomElement(coolArray);

// If you want to provide weights for each value, you can use getWeightedElement.
const weightedArray = [
    {
        weight: 10,
        option: "Cute dog"
    },
    {
        weight: 15,
        option: "Awesome cat"
    },
    {
        weight: 1,
        option: "Rare Franklin"
    }
];

const randomWeightedElement = random.getWeightedElement(weightedArray);
                    </code>
                </pre>
                <p>
                    Here's some results:
                </p>
                <ul id="randomResults">
                </ul>
            </section>
            <section class="fov" id="fov">
                <h2>Field of View</h2>
                <p>It's nice to see things. Roguelike Pumpkin Patch lets you do it.</p>
                <pre>
                    <code>
// 
                    </code>
                </pre>
            </section>
        </div>
    </main>


    <script src="./scriptbundle.js"></script>
</body>
</html>